<%# Welcome page after successful login %>
<div class="container">
  <h1>Project Overview</h1>
  <% if current_user.role == "manager" %>
  <% else %>
    <h2>Location: <%= current_user.location.name %></h2>
  <% end %>
</div>

<%# Quickview on #project locations, stock alert and requests pending approval %>
<div class="container">
  <div class="border-container">
    <div class="grid-header2">
      <h5>Total Locations: <%= Site.count - 1%></h5>
    </div>
    <div class="grid-header2">
      <h5>Low Stock Alert</h5>
    </div>
    <div class="grid-header2">
      <h5># Requests pending approval</h5>
    </div>
  </div>
</div>

<%# 4 dashboard cards with links to action %>
<%# using grid to contain cards in 2 rows x 2 columns, occupying 1fr, 1fr %>
<div class="container">
  <div class="wrapper-container">
    <div class="grid-container">
      <div class="card py-4">
        <h4>Pending Requests <i class="fa-solid fa-list-check" style="color: #3898b9;"></i></h4>
        <p>code in requests</p>
        <br>
        <%= link_to "Pending requests", requests_path, class: "btn btn-primary", id: "view-request-btn" %>
      </div>
      <div class="card py-4">
        <h4>Delivery In Transit  <i class="fa-solid fa-truck-fast" style="color: #3a98b9;"></i>
        </h4>
        <p>lorem ipsum 2 hello hello</p>
        <br>
        <%= link_to "Tracking", "#", class: "btn btn-info", id: "transit-delivery-btn" %>
      </div>
      <div class="card py-4">
        <h4>Low Stock Alert  <i class="fa-solid fa-bell" style="color: #3a98b9;"></i>
        </h4>
        <p>lorem ipsum 3</p><br>
        <%= link_to "Stock Alert", "#", class: "btn btn-danger", id: "stock-alert-btn" %>
      </div>
      <div class="card py-4">
        <h4>Project costs todate
         <i class="fa-solid fa-dollar-sign" style="color: #3898b9;"></i>
        </h4>
        <p>lorem ipsum 4</p><br>
        <%= link_to "Accumulated costs", "#", class: "btn btn-primary", id: "total-cost-btn" %>
      </div>
    </div>

  <%# Map showing project locations. Occupy 50% of total layout on right of screen%>
    <div class="map-card">
      <p style="color: green"><%= notice %></p>
      <h3>Project Site Locations</h3>
      <div data-controller="map"
        id='map'
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
        data-map-markers-value="<%= @markers.to_json %>"
        style='width: 560px; height: 380px;'>
      </div>
    </div>
  </div>
</div>
